---
title: "Informações sobre os dados do Pureco"
date: "`r format(Sys.time(), '%d/%m/%Y')`"
output: 
  flexdashboard::flex_dashboard:
    theme: cosmo
    storyboard: true
---

<!--argumento para deixar a página mais centralizada-->
<style>
body {
    position: center;
    left: 0px;}
</style>

```{r echo=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

### Descrição das informações da planilha, comentários sobre mudanças e ideias de gráficos e tabelas 

```{r, message=FALSE, warning=FALSE}
# carregando pacotes para manipulação das planilhas
library("tidyverse")
library("DT")
library("flexdashboard")
options(DT.options = list(
  initComplete = JS(
    "function(settings, json) {",
    "$(this.api().table().header()).css({'background-color': '#1d80e2  ', 
    'color': 'white'});",
    "}"),
  columnDefs = list(list(className = 'dt-center', targets = 5)),
  pageLength = 5,
  language = list(search = 'Busca:'),
  lengthMenu = c(5, 10, 15, 20)))
```

<p style="font-size:18px;color: blue;"> Explicação das informações contidas na planilhas de faxinas: </p>

- Planilha de faxinas: período de 2018 a 2020. 
  - | **Data**: Data marcada da faxina.
  - | **Mulher**: Nome da mulher que realizou a faxina.
  - | **Valor**: Valor cobrado da faxina em reais.
  - | **Cliente**: Nome do cliente que pediu a faxina.
  - | **Endereço**: Endereço do cliente que pediu a faxina.
  - | **Ocorreu?**: Representa se a faxina marcada na data ocorreu. 
  - | **Feedback Colhido?**: Representa se o feedback do cliente foi anotado.
  - | **Onde foi Colhido?**: Local em que o feedback foi anotado. 
  - | **Nota feedback Mulher**: Nota que a mulher deu para o seu cliente. 
  - | **Nota feedback Cliente**: Nota que o cliente deu para a faxina.
  - | **Comentários**: Comentários gerais sobre os serviços realizados.
  - | **Remarcou** : Representa se a faxina foi remarcada. 
  - | **Tipo**: Representa se o cliente já havia pedido antes uma faxina ou se um pedido de
 faxina novo.
  - | **Feedback Cliente**: Comentários dos clientes sobre a faxina.
 
<p style="font-size:18px;color: blue;">Mudanças: </p>

- | Juntei as duas planilhas do período de 2018 a 2019 e de 2019 a 2020 em apenas uma.
- | Padronizei os números e removi os R$ da frente dos valores da coluna **Valor**.
- | Padronizei o nome dos endereços para quando for uma Rua começar com apenas *Rua* e quando for Avenida começar com *Avenida*.
- | Encontrei um valor **2,5 ~ 3,0** como nota de feedback e troquei para **3,0**, pois não consigo converter essa expressão para um valor numérico. 
- | Removi todas as colunas vazias ou que continham números sem sentido. Os valores: **0** ou **1**, **true** ou **false**, agora são **Sim** ou **Não**.

<p style="font-size:18px;color: blue;">Ideias de análises e gráficos: </p>   

- | Quantidade de faxinas totais por Dia da semana - OK 
- | Quantidade de faxinas totais por Tipo: o gráfico mostra se há mais clientes novos requisitando faxinas ou se a maioria ainda são os clientes mais antigos. - OK 
- | Quantidade faxinas totais por mulher - OK
- | Quantidade de faxinas totais por mulher e dia da semana - OK
- | Boxplot da media de preços das faxinas realizadas por mulher.
- | Tabelas - sumários estatísticos. 
- | Mapas, acrescentar latitude e longitude de acordo com os endereços (*ver pacote rselenion*)
- | Porcentagem de faxinas que não ocorreram, que foram remarcadas ou não.
- | Gráfico pra analisar quais as notas de feedback do cliente por mulher.
- | Gráfico do valor ganho com as faxinas por mês para cada faxineira.
- | Análise dos comentários positivos. (*ver se e possível*)

<!-- #### Planilha de dados das faxinas do Pureco de 2018 a 2019 -->

### Planilha de faxinas do aplicativo: 

```{r}

#lendo a planilha faxinas ja manipulada em Relatoriotecnicodados
faxinas <- read_csv("../dados/faxinas.csv")
```

```{r echo=FALSE}

#tabela dinamica de faxinas
datatable(
  faxinas,
  colnames = c('ID' = 1),
  caption =  htmltools::tags$caption(
    style = 'caption-side: top; text-align: left; color:blue; font-size: 16px',
    'Tabela 1: ',
    htmltools::em('Gerenciamento do Aplicativo entre o período de 2018 a 2020.',)
  ),
  class = c('cell-border'),
  extensions = c('Buttons'),
  options = list(
    dom = 'Bfrtip',
    buttons = c('csv', 'excel', 'print')
  )
)
```

### Planilha de disponibilidade

<!-- Juntei a planilha de disponibilidade da Marília com a de calendário de dias disponíveis de 2019/2020. Esse passo tive que fazer a mão já que o R não reconheceu o formato da planilha.  -->

```{r, echo = FALSE}
# disponibilidade <- read_csv2("/home/elizemiku/Documents/PURECO-BAS/Pureco/dados/disponibilidade201819.csv", col_names = TRUE)
```

### Informações faxineiras


### Informações Clientes




